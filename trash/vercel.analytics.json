{
  "version": 2,
  "analytics": {
    "enabled": true,
    "performance": {
      "enabled": true,
      "coreWebVitals": {
        "enabled": true,
        "trackLCP": true,
        "trackFID": true,
        "trackCLS": true,
        "trackFCP": true,
        "trackTBT": true,
        "trackINP": true,
        "trackTTFB": true,
        "thresholds": {
          "lcp": {
            "poor": 4000,
            "needsImprovement": 3000,
            "good": 2500
          },
          "fid": {
            "poor": 300,
            "needsImprovement": 100,
            "good": 50
          },
          "cls": {
            "poor": 0.25,
            "needsImprovement": 0.1,
            "good": 0.05
          },
          "fcp": {
            "poor": 3000,
            "needsImprovement": 2000,
            "good": 1800
          },
          "tbt": {
            "poor": 6000,
            "needsImprovement": 3000,
            "good": 2000
          },
          "inp": {
            "poor": 500,
            "needsImprovement": 200,
            "good": 100
          },
          "ttfb": {
            "poor": 800,
            "needsImprovement": 600,
            "good": 400
          }
        }
      },
      "customMetrics": {
        "enabled": true,
        "trackPageLoad": true,
        "trackRouteChanges": true,
        "trackApiCalls": true,
        "trackUserInteractions": true,
        "customMetrics": [
          {
            "name": "timeToFirstByte",
            "description": "Time to first byte",
            "unit": "ms"
          },
          {
            "name": "domInteractiveTime",
            "description": "DOM interactive time",
            "unit": "ms"
          },
          {
            "name": "pageLoadTime",
            "description": "Page load time",
            "unit": "ms"
          },
          {
            "name": "firstContentfulPaint",
            "description": "First contentful paint",
            "unit": "ms"
          },
          {
            "name": "largestContentfulPaint",
            "description": "Largest contentful paint",
            "unit": "ms"
          },
          {
            "name": "timeToInteractive",
            "description": "Time to interactive",
            "unit": "ms"
          }
        ]
      }
    },
    "realUserMonitoring": {
      "enabled": true,
      "sampleRate": 50,
      "trackUserAgent": true,
      "trackViewport": true,
      "trackDeviceType": true,
      "trackConnectionType": true,
      "trackGeolocation": false,
      "trackCookies": true,
      "trackLocalStorage": true,
      "trackSessionStorage": true,
      "trackReferrer": true,
      "trackUtmParams": true,
      "trackCampaignParams": true,
      "trackSourceParams": true,
      "trackMediumParams": true,
      "trackTermParams": true,
      "trackContentParams": true,
      "trackNameParams": true
    },
    "errorTracking": {
      "enabled": true,
      "trackJavaScriptErrors": true,
      "trackUnhandledRejections": true,
      "trackResourceErrors": true,
      "trackWebVitalsErrors": true,
      "trackNetworkErrors": true,
      "trackConsoleErrors": true,
      "trackPromiseErrors": true,
      "trackAsyncErrors": true,
      "trackCustomErrors": true,
      "errorFilters": [
        {
          "type": "regex",
          "pattern": "ResizeObserver loop limit exceeded",
          "action": "ignore"
        },
        {
          "type": "regex",
          "pattern": "NetworkError when attempting to fetch resource",
          "action": "ignore"
        },
        {
          "type": "regex",
          "pattern": "AbortError",
          "action": "ignore"
        },
        {
          "type": "regex",
          "pattern": "Cannot read properties of null",
          "action": "ignore"
        },
        {
          "type": "regex",
          "pattern": "The operation is insecure",
          "action": "ignore"
        }
      ]
    },
    "events": {
      "enabled": true,
      "trackPageViews": true,
      "trackClicks": true,
      "trackFormSubmissions": true,
      "trackCustomEvents": true,
      "trackPageTransitions": true,
      "trackScrollDepth": true,
      "trackTimeOnPage": true,
      "trackExitIntent": true,
      "trackMouseMovements": false,
      "trackKeyboardEvents": false,
      "trackTouchEvents": true,
      "trackVisibilityChanges": true,
      "trackConnectionChanges": true,
      "trackDeviceOrientation": false,
      "eventFilters": [
        {
          "type": "regex",
          "pattern": "webpack",
          "action": "ignore"
        },
        {
          "type": "regex",
          "pattern": "socket.io",
          "action": "ignore"
        },
        {
          "type": "regex",
          "pattern": "hot-update",
          "action": "ignore"
        }
      ]
    },
    "sampling": {
      "enabled": true,
      "sampleRate": 50,
      "sessionSampleRate": 50,
      "customSampling": {
        "enabled": false,
        "rules": []
      }
    },
    "retention": {
      "dataRetentionDays": 30,
      "aggregateDataRetentionDays": 90,
      "rawDataRetentionDays": 7,
      "compressedDataRetentionDays": 30,
      "anonymizedDataRetentionDays": 365
    },
    "privacy": {
      "anonymizeIP": true,
      "maskUserData": true,
      "respectDoNotTrack": true,
      "consentMode": "granted",
      "cookieConsent": {
        "enabled": true,
        "required": true,
        "functional": true,
        "analytics": true,
        "advertising": false,
        "personalization": false
      },
      "dataLocalization": {
        "enabled": false,
        "region": "eu"
      }
    },
    "security": {
      "enabled": true,
      "trackSecurityEvents": true,
      "trackCSRF": true,
      "trackXSS": true,
      "trackSQLInjection": true,
      "trackFileUploads": true,
      "trackAuthentication": true,
      "trackAuthorization": true,
      "trackSessionManagement": true,
      "trackDataExfiltration": true,
      "securityFilters": [
        {
          "type": "regex",
          "pattern": "password",
          "action": "mask"
        },
        {
          "type": "regex",
          "pattern": "token",
          "action": "mask"
        },
        {
          "type": "regex",
          "pattern": "secret",
          "action": "mask"
        },
        {
          "type": "regex",
          "pattern": "key",
          "action": "mask"
        }
      ]
    },
    "realtime": {
      "enabled": true,
      "updateInterval": 5000,
      "maxDataPoints": 100,
      "showRealtimeMetrics": true,
      "showRealtimeErrors": true,
      "showRealtimeEvents": true,
      "showRealtimeUsers": true
    },
    "alerts": {
      "enabled": true,
      "alertRules": [
        {
          "id": "high-error-rate",
          "name": "High Error Rate",
          "condition": "error_rate > 0.1",
          "threshold": 0.1,
          "window": "5m",
          "severity": "high",
          "enabled": true,
          "notifications": ["email", "slack"]
        },
        {
          "id": "critical-error",
          "name": "Critical Error",
          "condition": "severity == 'critical'",
          "threshold": 1,
          "window": "1m",
          "severity": "critical",
          "enabled": true,
          "notifications": ["email", "slack", "teams"]
        },
        {
          "id": "performance-degradation",
          "name": "Performance Degradation",
          "condition": "response_time > 2000",
          "threshold": 2000,
          "window": "10m",
          "severity": "medium",
          "enabled": true,
          "notifications": ["slack"]
        },
        {
          "id": "high-cls",
          "name": "High Cumulative Layout Shift",
          "condition": "cls > 0.25",
          "threshold": 0.25,
          "window": "5m",
          "severity": "medium",
          "enabled": true,
          "notifications": ["email"]
        },
        {
          "id": "high-lcp",
          "name": "High Largest Contentful Paint",
          "condition": "lcp > 4000",
          "threshold": 4000,
          "window": "5m",
          "severity": "medium",
          "enabled": true,
          "notifications": ["email"]
        }
      ]
    },
    "export": {
      "enabled": true,
      "formats": ["json", "csv", "parquet"],
      "schedule": "0 0 * * *",
      "retention": 30,
      "compression": true,
      "encryption": true,
      "destination": {
        "type": "s3",
        "bucket": "normaldance-analytics",
        "region": "eu-west-1",
        "prefix": "exports/"
      }
    },
    "dashboard": {
      "enabled": true,
      "refreshInterval": 30000,
      "autoRefresh": true,
      "showMetrics": true,
      "showErrors": true,
      "showEvents": true,
      "showUsers": true,
      "showPerformance": true,
      "showRealtime": true,
      "customWidgets": [
        {
          "type": "metric",
          "title": "Page Load Time",
          "metric": "pageLoadTime",
          "aggregation": "avg",
          "timeRange": "1h"
        },
        {
          "type": "metric",
          "title": "Error Rate",
          "metric": "errorRate",
          "aggregation": "avg",
          "timeRange": "1h"
        },
        {
          "type": "metric",
          "title": "Active Users",
          "metric": "activeUsers",
          "aggregation": "sum",
          "timeRange": "1h"
        },
        {
          "type": "chart",
          "title": "Performance Metrics",
          "metrics": ["lcp", "fid", "cls", "fcp"],
          "aggregation": "avg",
          "timeRange": "24h"
        }
      ]
    }
  },
  "environments": {
    "production": {
      "analytics": {
        "enabled": true,
        "performance": {
          "enabled": true,
          "coreWebVitals": {
            "enabled": true,
            "trackLCP": true,
            "trackFID": true,
            "trackCLS": true,
            "trackFCP": true,
            "trackTBT": true,
            "trackINP": true,
            "trackTTFB": true
          }
        },
        "realUserMonitoring": {
          "enabled": true,
          "sampleRate": 50
        },
        "errorTracking": {
          "enabled": true,
          "trackJavaScriptErrors": true,
          "trackUnhandledRejections": true,
          "trackResourceErrors": true,
          "trackWebVitalsErrors": true
        },
        "events": {
          "enabled": true,
          "trackPageViews": true,
          "trackClicks": true,
          "trackFormSubmissions": true,
          "trackCustomEvents": true
        },
        "sampling": {
          "enabled": true,
          "sampleRate": 50,
          "sessionSampleRate": 50
        },
        "retention": {
          "dataRetentionDays": 30,
          "aggregateDataRetentionDays": 90
        },
        "privacy": {
          "anonymizeIP": true,
          "maskUserData": true,
          "respectDoNotTrack": true,
          "consentMode": "granted"
        }
      }
    },
    "staging": {
      "analytics": {
        "enabled": true,
        "performance": {
          "enabled": true,
          "coreWebVitals": {
            "enabled": true,
            "trackLCP": true,
            "trackFID": true,
            "trackCLS": true,
            "trackFCP": true,
            "trackTBT": true,
            "trackINP": true,
            "trackTTFB": true
          }
        },
        "realUserMonitoring": {
          "enabled": true,
          "sampleRate": 100
        },
        "errorTracking": {
          "enabled": true,
          "trackJavaScriptErrors": true,
          "trackUnhandledRejections": true,
          "trackResourceErrors": true,
          "trackWebVitalsErrors": true
        },
        "events": {
          "enabled": true,
          "trackPageViews": true,
          "trackClicks": true,
          "trackFormSubmissions": true,
          "trackCustomEvents": true
        },
        "sampling": {
          "enabled": true,
          "sampleRate": 100,
          "sessionSampleRate": 100
        },
        "retention": {
          "dataRetentionDays": 7,
          "aggregateDataRetentionDays": 30
        },
        "privacy": {
          "anonymizeIP": true,
          "maskUserData": true,
          "respectDoNotTrack": true,
          "consentMode": "granted"
        }
      }
    },
    "development": {
      "analytics": {
        "enabled": false,
        "performance": {
          "enabled": false,
          "coreWebVitals": {
            "enabled": false,
            "trackLCP": false,
            "trackFID": false,
            "trackCLS": false,
            "trackFCP": false,
            "trackTBT": false,
            "trackINP": false,
            "trackTTFB": false
          }
        },
        "realUserMonitoring": {
          "enabled": false,
          "sampleRate": 0
        },
        "errorTracking": {
          "enabled": false,
          "trackJavaScriptErrors": false,
          "trackUnhandledRejections": false,
          "trackResourceErrors": false,
          "trackWebVitalsErrors": false
        },
        "events": {
          "enabled": false,
          "trackPageViews": false,
          "trackClicks": false,
          "trackFormSubmissions": false,
          "trackCustomEvents": false
        },
        "sampling": {
          "enabled": false,
          "sampleRate": 0,
          "sessionSampleRate": 0
        },
        "retention": {
          "dataRetentionDays": 1,
          "aggregateDataRetentionDays": 7
        },
        "privacy": {
          "anonymizeIP": false,
          "maskUserData": false,
          "respectDoNotTrack": false,
          "consentMode": "denied"
        }
      }
    }
  }
}