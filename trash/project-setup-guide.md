2
# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ NORMALDANCE

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [1. DNS-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤](#1-dns-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–¥–ª—è-–≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö-—Å–µ—Ä–≤–∏—Å–æ–≤)
- [2. –í–≤–µ–¥–µ–Ω–∏–µ](#2-–≤–≤–µ–¥–µ–Ω–∏–µ)
- [3. –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ NORMALDANCE](#3-–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞-normaldance)
- [4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã](#4-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- [5. –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#5-—Å–∏—Å—Ç–µ–º–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [6. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è](#6-–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–¥–ª—è-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
- [7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#7-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [8. Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è](#8-docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è)
- [9. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#9-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
- [10. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#10-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [11. –î–µ–ø–ª–æ–π –∏ CI/CD](#11-–¥–µ–ø–ª–æ–π-–∏-cicd)
- [12. WebSocket –∏ —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è](#12-websocket-–∏-—Ä–µ–∞–ª—å–Ω–æ–µ-–≤—Ä–µ–º—è)
- [13. –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](#13-–º–æ–±–∏–ª—å–Ω–æ–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- [14. Web3 –∏ –±–ª–æ–∫—á–µ–π–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#14-web3-–∏-–±–ª–æ–∫—á–µ–π–Ω-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- [15. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#15-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [16. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#16-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A. –°–ø–∏—Å–æ–∫ Docker-–æ–±—Ä–∞–∑–æ–≤](#–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-a-—Å–ø–∏—Å–æ–∫-docker-–æ–±—Ä–∞–∑–æ–≤)
- [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ B. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã](#–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-b-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ-—Ñ–∞–π–ª—ã)
- [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ C. –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è](#–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-c-—Å–∫—Ä–∏–ø—Ç—ã-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
- [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ D. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-d-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## 1. DNS-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
### –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE

DNS (–°–∏—Å—Ç–µ–º–∞ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º–µ–Ω) —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—É—é –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏.

### 1.1 –ê–∫—Ç–∏–≤–∞—Ü–∏—è –¥–æ–º–µ–Ω–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DNS-–∑–∞–ø–∏—Å–µ–π —Å –≥–µ–æ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º

#### –û—Å–Ω–æ–≤–Ω—ã–µ A-–∑–∞–ø–∏—Å–∏ –¥–ª—è NORMALDANCE
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–º–µ–Ω—ã
dnb1st.ru 300 IN A 176.108.246.49
www.dnb1st.ru 300 IN A 176.108.246.49
dnb1st.store 300 IN A 176.108.246.49
www.dnb1st.store 300 IN A 176.108.246.49

# –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã
eu.dnb1st.ru 300 IN A 185.199.108.153  # –ï–≤—Ä–æ–ø–∞
us.dnb1st.ru 300 IN A 140.82.112.3     # –°–®–ê
asia.dnb1st.ru 300 IN A 13.229.188.59  # –ê–∑–∏—è

# CDN –ø–æ–¥–¥–æ–º–µ–Ω—ã
cdn.dnb1st.ru 300 IN CNAME d111111abcdef8.cloudfront.net.
static.dnb1st.ru 300 IN CNAME assets.dnb1st.ru.
assets.dnb1st.ru 300 IN A 176.108.246.49

# API –ø–æ–¥–¥–æ–º–µ–Ω—ã
api.dnb1st.ru 300 IN A 176.108.246.49
api-v2.dnb1st.ru 300 IN A 176.108.246.49
ws.dnb1st.ru 300 IN A 176.108.246.49
stream.dnb1st.ru 300 IN A 176.108.246.49
```

### 1.2 –¢–∏–ø—ã DNS-–∑–∞–ø–∏—Å–µ–π –∏ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö

#### A/AAAA –∑–∞–ø–∏—Å–∏ –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
dnb1st.ru 300 IN A 176.108.246.49
dnb1st.ru 300 IN A 176.108.246.50  # –†–µ–∑–µ—Ä–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

# IPv6 –ø–æ–¥–¥–µ—Ä–∂–∫–∞
dnb1st.ru 300 IN AAAA 2001:db8::1
dnb1st.ru 300 IN AAAA 2001:db8::2
```

#### CNAME –∑–∞–ø–∏—Å–∏ –¥–ª—è –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –ü–æ–¥–¥–æ–º–µ–Ω—ã —Å–µ—Ä–≤–∏—Å–æ–≤
www.dnb1st.ru 300 IN CNAME dnb1st.ru.
music.dnb1st.ru 300 IN CNAME dnb1st.ru.
player.dnb1st.ru 300 IN CNAME dnb1st.ru.
upload.dnb1st.ru 300 IN CNAME dnb1st.ru.

# CDN –∞–ª–∏–∞—Å—ã
cdn.dnb1st.ru 300 IN CNAME d111111abcdef8.cloudfront.net.
images.dnb1st.ru 300 IN CNAME cdn.dnb1st.ru.
```

#### MX –∑–∞–ø–∏—Å–∏ –¥–ª—è –ø–æ—á—Ç–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
```bash
# –ü–æ—á—Ç–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
dnb1st.ru 300 IN MX 10 mx1.beget.com.
dnb1st.ru 300 IN MX 20 mx2.beget.com.
dnb1st.ru 300 IN MX 30 mx3.beget.com.

dnb1st.store 300 IN MX 10 mx1.beget.com.
dnb1st.store 300 IN MX 20 mx2.beget.com.
```

#### TXT –∑–∞–ø–∏—Å–∏ –¥–ª—è SPF/DKIM
```bash
# SPF –ø–æ–ª–∏—Ç–∏–∫–∏
dnb1st.ru 300 IN TXT "v=spf1 include:_spf.beget.com ~all"
dnb1st.store 300 IN TXT "v=spf1 include:_spf.beget.com ~all"

# DMARC –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
_dmarc.dnb1st.ru 300 IN TXT "v=DMARC1; p=quarantine; rua=mailto:dmarc@dnb1st.ru"
_dmarc.dnb1st.store 300 IN TXT "v=DMARC1; p=quarantine; rua=mailto:dmarc@dnb1st.store"

# DKIM –ø–æ–¥–ø–∏—Å–∏
default._domainkey.dnb1st.ru 300 IN TXT "v=DKIM1; k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC..."
```

#### SRV –∑–∞–ø–∏—Å–∏ –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤
```bash
# WebSocket —Å–µ—Ä–≤–∏—Å—ã
_ws._tcp.dnb1st.ru 300 IN SRV 10 5 3001 ws.dnb1st.ru.
_wss._tcp.dnb1st.ru 300 IN SRV 10 5 443 ws.dnb1st.ru.

# API endpoints
_api._tcp.dnb1st.ru 300 IN SRV 10 5 3000 api.dnb1st.ru.
_streaming._tcp.dnb1st.ru 300 IN SRV 10 5 8080 stream.dnb1st.ru.
```

### 1.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞ DNS

#### –ö–æ–º–∞–Ω–¥—ã dig –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–æ–Ω
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
dig dnb1st.ru A +short
dig dnb1st.store A +short
dig www.dnb1st.ru A +short

# –ü—Ä–æ–≤–µ—Ä–∫–∞ MX –∑–∞–ø–∏—Å–µ–π
dig dnb1st.ru MX
dig dnb1st.store MX

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ DNS —Å–µ—Ä–≤–µ—Ä—ã
dig @8.8.8.8 dnb1st.ru A
dig @1.1.1.1 dnb1st.ru A
dig @ns1.beget.com dnb1st.ru A

# –ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ DNS
dig +trace dnb1st.ru A
```

#### nslookup –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑–æ–ª–≤–µ—Ä–æ–≤
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
nslookup dnb1st.ru
nslookup dnb1st.store

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø–∏—Å–µ–π
nslookup -type=MX dnb1st.ru
nslookup -type=TXT dnb1st.ru
nslookup -type=CNAME www.dnb1st.ru

# –û–±—Ä–∞—Ç–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
nslookup 176.108.246.49
```

#### mtr –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
```bash
# –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞
mtr dnb1st.ru
mtr dnb1st.store

# –û—Ç—á–µ—Ç –ø–æ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–µ
mtr --report dnb1st.ru
mtr --report-cycles 10 dnb1st.ru

# –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –∏–º–µ–Ω
mtr --report --no-dns dnb1st.ru
```

### 1.4 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è TTL –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–ø–∞–≥–∞—Ü–∏–∏

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ TTL –∑–Ω–∞—á–µ–Ω–∏—è

| –¢–∏–ø –∑–∞–ø–∏—Å–∏ | TTL (—Å–µ–∫) | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|-------------|-------------|
| A/AAAA     | 300-600     | –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–º–µ–Ω—ã |
| CNAME      | 600-1800    | –ü–æ–¥–¥–æ–º–µ–Ω—ã —Å–µ—Ä–≤–∏—Å–æ–≤ |
| MX         | 1800-3600   | –ü–æ—á—Ç–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã |
| TXT        | 300-1800    | SPF, DKIM, DMARC |
| SRV        | 600-3600    | –°–µ—Ä–≤–∏—Å–Ω—ã–µ –ø–æ—Ä—Ç—ã |
| NS         | 86400       | –ù–µ–π–º—Å–µ—Ä–≤–µ—Ä—ã |

### 1.5 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ —Å wildcard-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

#### Wildcard DNS –∑–∞–ø–∏—Å–∏
```bash
# Wildcard –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤
*.dnb1st.ru 300 IN A 176.108.246.49
*.dnb1st.store 300 IN A 176.108.246.49

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ wildcard)
api.dnb1st.ru 300 IN A 176.108.246.49
ws.dnb1st.ru 300 IN A 176.108.246.49
cdn.dnb1st.ru 300 IN CNAME d111111abcdef8.cloudfront.net.
```

### 1.6 –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –∏ —á–µ–∫–ª–∏—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ DNS

#### –ß–µ–∫–ª–∏—Å—Ç DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –û—Å–Ω–æ–≤–Ω—ã–µ A-–∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] WWW –ø–æ–¥–¥–æ–º–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] MX –∑–∞–ø–∏—Å–∏ –¥–ª—è –ø–æ—á—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] SPF/DKIM/DMARC –∑–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] CDN –ø–æ–¥–¥–æ–º–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] API –ø–æ–¥–¥–æ–º–µ–Ω—ã –¥–æ—Å—Ç—É–ø–Ω—ã
- [ ] WebSocket –ø–æ–¥–¥–æ–º–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] TTL –∑–Ω–∞—á–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] DNS —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤–∞–ª–∏–¥–Ω—ã

#### –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
```bash
#!/bin/bash
# dns-check.sh

DOMAINS=("dnb1st.ru" "dnb1st.store" "www.dnb1st.ru" "api.dnb1st.ru")
EXPECTED_IP="176.108.246.49"

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS –Ω–∞—Å—Ç—Ä–æ–µ–∫ NORMALDANCE"
echo "======================================"

for domain in "${DOMAINS[@]}"; do
    echo -n "–ü—Ä–æ–≤–µ—Ä–∫–∞ $domain: "
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ A-–∑–∞–ø–∏—Å–∏
    RESOLVED_IP=$(dig +short $domain A | head -1)
    
    if [ "$RESOLVED_IP" = "$EXPECTED_IP" ]; then
        echo "‚úÖ OK ($RESOLVED_IP)"
    else
        echo "‚ùå FAIL ($RESOLVED_IP, –æ–∂–∏–¥–∞–ª—Å—è $EXPECTED_IP)"
    fi
done

echo ""
echo "üìß –ü—Ä–æ–≤–µ—Ä–∫–∞ MX –∑–∞–ø–∏—Å–µ–π:"
dig dnb1st.ru MX +short
dig dnb1st.store MX +short

echo ""
echo "üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:"
for domain in "dnb1st.ru" "dnb1st.store"; do
    echo -n "SSL $domain: "
    if curl -s -I https://$domain | grep -q "HTTP/2 200"; then
        echo "‚úÖ OK"
    else
        echo "‚ùå FAIL"
    fi
done
```

---

## 2. SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å HTTPS
### –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE

### 2.1 –í–≤–µ–¥–µ–Ω–∏–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å HTTPS –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

–î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å HTTPS —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º –∞—Å–ø–µ–∫—Ç–æ–º, —Ç–∞–∫ –∫–∞–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫–æ–≤—É—é –ø–µ—Ä–µ–¥–∞—á—É –∞—É–¥–∏–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ NFT –æ–ø–µ—Ä–∞—Ü–∏–∏. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL/TLS –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- **–ó–∞—â–∏—Ç–∞ –∞—É–¥–∏–æ-–ø–æ—Ç–æ–∫–æ–≤**: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ prevents unauthorized access to music content
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö**: –ó–∞—â–∏—Ç–∞ –ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- **–î–æ–≤–µ—Ä–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- **SEO –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—à–µ –≤ –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**: GDPR, PCI DSS –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```bash
# –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è NORMALDANCE
- –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∞—É–¥–∏–æ-—Å—Ç—Ä–∏–º–∏–Ω–≥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebSocket –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –ø–æ—Ç–æ–∫–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP/2 –∏ HTTP/3 –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ NORMALDANCE

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   User Browser  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   Load Balancer ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   Web Servers   ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ    (SSL/TLS)    ‚îÇ    ‚îÇ   (Nginx)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                    ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
                       ‚îÇ   API Servers   ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ   (Node.js)     ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                  ‚îÇ                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Database      ‚îÇ ‚îÇ   Blockchain    ‚îÇ ‚îÇ   File Storage  ‚îÇ
‚îÇ   (PostgreSQL)  ‚îÇ ‚îÇ   (Solana)      ‚îÇ ‚îÇ   (IPFS/Filecoin)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2.2 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è CSR –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ Let's Encrypt —Å DNS-–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

–î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º DNS-–≤–∞–ª–∏–¥–∞—Ü–∏—é Let's Encrypt –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

#### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–æ–ª—É—á–µ–Ω–∏—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
sudo apt update
sudo apt install certbot python3-certbot-dns-cloudflare -y

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cloudflare API –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
sudo mkdir -p /etc/letsencrypt/cloudflare
sudo nano /etc/letsencrypt/cloudflare/cloudflare.ini
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cloudflare API:

```ini
# /etc/letsencrypt/cloudflare/cloudflare.ini
dns_cloudflare_api_token = your_cloudflare_api_token
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:

```bash
sudo chmod 600 /etc/letsencrypt/cloudflare/cloudflare.ini
```

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è CSR –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –∏ CSR –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
openssl req -new -newkey rsa:4096 -nodes -keyout dnb1st.ru.key -out dnb1st.ru.csr -subj "/C=RU/ST=Moscow/L=Moscow/O=Normaldance/OU=IT/CN=dnb1st.ru"

# –ü—Ä–æ—Å–º–æ—Ç—Ä CSR
openssl req -in dnb1st.ru.csr -text -noout
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ wildcard —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è NORMALDANCE

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ wildcard —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤
sudo certbot certonly \
  --dns-cloudflare \
  --dns-cloudflare-credentials /etc/letsencrypt/cloudflare/cloudflare.ini \
  --email admin@dnb1st.ru \
  --agree-tos \
  --no-eff-email \
  -d "*.dnb1st.ru" \
  -d "dnb1st.ru" \
  -d "*.dnb1st.store" \
  -d "dnb1st.store"

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è API –∏ WebSocket —Å–µ—Ä–≤–∏—Å–æ–≤
sudo certbot certonly \
  --dns-cloudflare \
  --dns-cloudflare-credentials /etc/letsencrypt/cloudflare/cloudflare.ini \
  --email admin@dnb1st.ru \
  --agree-tos \
  --no-eff-email \
  -d "*.api.dnb1st.ru" \
  -d "api.dnb1st.ru" \
  -d "*.ws.dnb1st.ru" \
  -d "ws.dnb1st.ru"
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
sudo openssl x509 -in /etc/letsencrypt/live/dnb1st.ru/fullchain.pem -text -noout

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
sudo openssl x509 -enddate -noout -in /etc/letsencrypt/live/dnb1st.ru/fullchain.pem

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo openssl verify -CAfile /etc/letsencrypt/live/dnb1st.ru/chain.pem /etc/letsencrypt/live/dnb1st.ru/fullchain.pem
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

```bash
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
/etc/letsencrypt/live/dnb1st.ru/
‚îú‚îÄ‚îÄ cert.pem          # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–æ–º–µ–Ω–∞
‚îú‚îÄ‚îÄ chain.pem         # –¶–µ–ø–æ—á–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ fullchain.pem     # –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ + —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
‚îú‚îÄ‚îÄ privkey.pem       # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
‚îî‚îÄ‚îÄ README            # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ

/etc/letsencrypt/live/api.dnb1st.ru/
‚îú‚îÄ‚îÄ cert.pem
‚îú‚îÄ‚îÄ chain.pem
‚îú‚îÄ‚îÄ fullchain.pem
‚îú‚îÄ‚îÄ privkey.pem
‚îî‚îÄ‚îÄ README

/etc/letsencrypt/live/ws.dnb1st.ru/
‚îú‚îÄ‚îÄ cert.pem
‚îú‚îÄ‚îÄ chain.pem
‚îú‚îÄ‚îÄ fullchain.pem
‚îú‚îÄ‚îÄ privkey.pem
‚îî‚îÄ‚îÄ README
```

### 2.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é certbot

–î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –±–µ—Å–ø–µ—Ä–µ–±–æ–π–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron-–∑–∞–¥–∞—á–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo nano /usr/local/bin/renew-ssl-certificates.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞:

```bash
#!/bin/bash
# /usr/local/bin/renew-ssl-certificates.sh

LOG_FILE="/var/log/ssl-renewal.log"
DATE=$(date '+%Y-%m-%d %H:%M:%S')

echo "[$DATE] Starting SSL certificate renewal..." >> $LOG_FILE

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
if sudo certbot renew --non-interactive --post-hook "systemctl reload nginx" >> $LOG_FILE 2>&1; then
    echo "[$DATE] SSL certificates renewed successfully" >> $LOG_FILE
    
    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
    sudo systemctl reload nginx
    sudo systemctl reload normaldance-api
    sudo systemctl reload normaldance-websocket
    
    echo "[$DATE] Services reloaded successfully" >> $LOG_FILE
else
    echo "[$DATE] SSL certificate renewal failed" >> $LOG_FILE
    exit 1
fi

echo "[$DATE] SSL certificate renewal completed" >> $LOG_FILE
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:

```bash
sudo chmod +x /usr/local/bin/renew-ssl-certificates.sh
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron-–∑–∞–¥–∞—á–∏

```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ crontab
sudo crontab -e
```

–î–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É:

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ 3:00 –Ω–æ—á–∏
0 3 * * * /usr/local/bin/renew-ssl-certificates.sh
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo nano /usr/local/bin/check-ssl-status.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞:

```bash
#!/bin/bash
# /usr/local/bin/check-ssl-status.sh

DOMAINS=("dnb1st.ru" "dnb1st.store" "api.dnb1st.ru" "ws.dnb1st.ru")
THRESHOLD_DAYS=30

echo "SSL Certificate Status Check - $(date)"
echo "====================================="

for domain in "${DOMAINS[@]}"; do
    if [ -f "/etc/letsencrypt/live/$domain/cert.pem" ]; then
        # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
        expiry_date=$(sudo openssl x509 -enddate -noout -in "/etc/letsencrypt/live/$domain/cert.pem" | cut -d= -f2)
        expiry_timestamp=$(date -d "$expiry_date" +%s)
        current_timestamp=$(date +%s)
        days_left=$(( (expiry_timestamp - current_timestamp) / 86400 ))
        
        echo "Domain: $domain"
        echo "  Expiry Date: $expiry_date"
        echo "  Days Left: $days_left"
        
        if [ $days_left -lt $THRESHOLD_DAYS ]; then
            echo "  ‚ö†Ô∏è  WARNING: Certificate expires in less than $THRESHOLD_DAYS days!"
        else
            echo "  ‚úÖ OK"
        fi
        echo ""
    else
        echo "‚ùå ERROR: Certificate not found for $domain"
    fi
done
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∏ cron-–∑–∞–¥–∞—á–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```bash
sudo chmod +x /usr/local/bin/check-ssl-status.sh

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
0 9 * * 1 /usr/local/bin/check-ssl-status.sh | mail -s "SSL Certificate Status Report" admin@dnb1st.ru
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è

```bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
sudo nano /usr/local/bin/ssl-expiry-notification.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞:

```bash
#!/bin/bash
# /usr/local/bin/ssl-expiry-notification.sh

DOMAINS=("dnb1st.ru" "dnb1st.store" "api.dnb1st.ru" "ws.dnb1st.ru")
THRESHOLD_DAYS=14
EMAIL="admin@dnb1st.ru"

MESSAGE="SSL Certificate Expiry Notification\n\n"
MESSAGE+="The following certificates will expire soon:\n\n"

for domain in "${DOMAINS[@]}"; do
    if [ -f "/etc/letsencrypt/live/$domain/cert.pem" ]; then
        expiry_date=$(sudo openssl x509 -enddate -noout -in "/etc/letsencrypt/live/$domain/cert.pem" | cut -d= -f2)
        expiry_timestamp=$(date -d "$expiry_date" +%s)
        current_timestamp=$(date +%s)
        days_left=$(( (expiry_timestamp - current_timestamp) / 86400 ))
        
        if [ $days_left -lt $THRESHOLD_DAYS ]; then
            MESSAGE+="Domain: $domain\n"
            MESSAGE+="  Expiry Date: $expiry_date\n"
            MESSAGE+="  Days Left: $days_left\n\n"
        fi
    fi
done

# –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å –∏—Å—Ç–µ–∫–∞—é—â–∏–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è
if echo -e "$MESSAGE" | grep -q "Days Left"; then
    echo -e "$MESSAGE" | mail -s "SSL Certificate Expiry Warning" $EMAIL
    echo "SSL expiry notification sent to $EMAIL"
fi
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron-–∑–∞–¥–∞—á–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
0 8 * * * /usr/local/bin/ssl-expiry-notification.sh
```

### 2.4 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OCSP Stapling –∏ HSTS —Å preload

–î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE OCSP Stapling –∏ HSTS –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OCSP Stapling

OCSP Stapling –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏ –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ OCSP Stapling
sudo nano /etc/nginx/ocsp-stapling.conf
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```nginx
# /etc/nginx/ocsp-stapling.conf
# OCSP Stapling configuration for NORMALDANCE

# –í–∫–ª—é—á–µ–Ω–∏–µ OCSP Stapling
ssl_stapling on;
ssl_stapling_verify on;

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ resolver –¥–ª—è OCSP
resolver 8.8.8.8 8.8.4.4 valid=300s;
resolver_timeout 5s;

# –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º OCSP
ssl_trusted_certificate /etc/letsencrypt/live/dnb1st.ru/chain.pem;

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è OCSP
ssl_stapling_file /var/lib/nginx/ocsp.cache;
ssl_stapling_responder_timeout 5s;
ssl_stapling_verify_timeout 5s;

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—É—Ñ–µ—Ä–∞ –¥–ª—è OCSP –æ—Ç–≤–µ—Ç–æ–≤
ssl_buffer_size 4k;
ssl_session_timeout 1d;
ssl_session_cache shared:SSL:10m;
ssl_session_tickets off;
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HSTS —Å preload

HSTS (HTTP Strict Transport Security) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTPS –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ HSTS
sudo nano /etc/nginx/hsts.conf
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```nginx
# /etc/nginx/hsts.conf
# HSTS configuration for NORMALDANCE

# –û—Å–Ω–æ–≤–Ω–æ–π HSTS –∑–∞–≥–æ–ª–æ–≤–æ–∫
add_header Strict-Transport-Security "max-age=63072000; includeSubDomains; preload" always;

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
add_header X-Content-Type-Options "nosniff" always;
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-XSS-Protection "1; mode=block" always;
add_header Referrer-Policy "strict-origin-when-cross-origin" always;
add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' wss: https:; media-src 'self' https:; child-src 'self'; worker-src 'self'" always;

# –ó–∞—â–∏—Ç–∞ –æ—Ç clickjacking
add_header X-Frame-Options "SAMEORIGIN" always;

# –ó–∞—â–∏—Ç–∞ –æ—Ç MIME-—Ç–∏–ø –∞—Ç–∞–∫–∏
add_header X-Content-Type-Options "nosniff" always;

# –ó–∞—â–∏—Ç–∞ –æ—Ç XSS –∞—Ç–∞–∫
add_header X-XSS-Protection "1; mode=block" always;

# –ü–æ–ª–∏—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–µ—Ä–∞
add_header Referrer-Policy "strict-origin-when-cross-origin" always;

# –ó–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∞–∂–∏ –¥–∞–Ω–Ω—ã—Ö
add_header Permissions-Policy "geolocation=(), microphone=(), camera=()" always;
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx —Å OCSP Stapling –∏ HSTS

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
sudo nano /etc/nginx/sites-available/normaldance-ssl.conf
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```nginx
# /etc/nginx/sites-available/normaldance-ssl.conf
# SSL configuration for NORMALDANCE with OCSP Stapling and HSTS

server {
    listen 80;
    server_name dnb1st.ru www.dnb1st.ru dnb1st.store www.dnb1st.ru;
    
    # –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ HTTPS
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name dnb1st.ru www.dnb1st.ru;
    
    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    ssl_certificate /etc/letsencrypt/live/dnb1st.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/dnb1st.ru/privkey.pem;
    
    # –í–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    include /etc/nginx/ocsp-stapling.conf;
    include /etc/nginx/hsts.conf;
    
    # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SSL
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';
    ssl_prefer_server_ciphers off;
    
    # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∞—É–¥–∏–æ-—Å—Ç—Ä–∏–º–∏–Ω–≥–∞
    client_max_body_size 100M;
    client_body_timeout 300s;
    client_header_timeout 300s;
    keepalive_timeout 75s;
    
    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
    location ~* \.(mp3|wav|flac|aac|ogg|m4a)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header Access-Control-Allow-Origin "*";
        tcp_nodelay on;
        tcp_nopush on;
    }
    
    # WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
    location /socket.io/ {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è WebSocket
        proxy_read_timeout 86400s;
        proxy_send_timeout 86400s;
        proxy_connect_timeout 60s;
    }
    
    # API –ø—Ä–æ–∫—Å–∏
    location /api/ {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è API
        proxy_buffering on;
        proxy_buffer_size 128k;
        proxy_buffers 4 256k;
        proxy_busy_buffers_size 256k;
    }
    
    # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    location /static/ {
        alias /var/www/normaldance/static/;
        expires 1y;
        add_header Cache-Control "public, immutable";
        tcp_nodelay on;
        tcp_nopush on;
    }
    
    # –õ–æ–≥–∏
    access_log /var/log/nginx/normaldance.access.log;
    error_log /var/log/nginx/normaldance.error.log;
}

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è API —Å–µ—Ä–≤–∏—Å–∞
server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name api.dnb1st.ru www.api.dnb1st.ru;
    
    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    ssl_certificate /etc/letsencrypt/live/api.dnb1st.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/api.dnb1st.ru/privkey.pem;
    
    # –í–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    include /etc/nginx/ocsp-stapling.conf;
    include /etc/nginx/hsts.conf;
    
    # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SSL
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';
    ssl_prefer_server_ciphers off;
    
    # API –ø—Ä–æ–∫—Å–∏
    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è API
        proxy_buffering on;
        proxy_buffer_size 128k;
        proxy_buffers 4 256k;
        proxy_busy_buffers_size 256k;
        
        # –í–∫–ª—é—á–µ–Ω–∏–µ —Å–∂–∞—Ç–∏—è
        gzip on;
        gzip_vary on;
        gzip_min_length 1024;
        gzip_proxied any;
        gzip_comp_level 6;
        gzip_types
            text/plain
            text/css
            text/xml
            text/javascript
            application/json
            application/javascript
            application/xml+rss
            application/atom+xml
            image/svg+xml;
    }
    
    # –õ–æ–≥–∏
    access_log /var/log/nginx/api.access.log;
    error_log /var/log/nginx/api.error.log;
}

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è WebSocket —Å–µ—Ä–≤–∏—Å–∞
server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name ws.dnb1st.ru www.ws.dnb1st.ru;
    
    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    ssl_certificate /etc/letsencrypt/live/ws.dnb1st.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/ws.dnb1st.ru/privkey.pem;
    
    # –í–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    include /etc/nginx/ocsp-stapling.conf;
    include /etc/nginx/hsts.conf;
    
    # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SSL
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';
    ssl_prefer_server_ciphers off;
    
    # WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
    location /socket.io/ {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è WebSocket
        proxy_read_timeout 86400s;
        proxy_send_timeout 86400s;
        proxy_connect_timeout 60s;
    }
    
    # –õ–æ–≥–∏
    access_log /var/log/nginx/ws.access.log;
    error_log /var/log/nginx/ws.error.log;
}
```

#### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ln -s /etc/nginx/sites-available/normaldance-ssl.conf /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

### 2.5 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é SSL Labs

–î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSL/TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ SSL Labs Server Test

SSL Labs Server Test –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç comprehensive –∞–Ω–∞–ª–∏–∑ SSL/TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ curl
curl -s "https://api.ssllabs.com/api/v3/analyze?host=dnb1st.ru&all=done&startNew=on" | jq '.'

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤
DOMAINS=("dnb1st.ru" "dnb1st.store" "api.dnb1st.ru" "ws.dnb1st.ru")

for domain in "${DOMAINS[@]}"; do
    echo "Testing $domain..."
    curl -s "https://api.ssllabs.com/api/v3/analyze?host=$domain&all=done&startNew=on" | jq '.'
    echo "----------------------------------------"
done
```

#### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ:

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å | –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------------|-------------------|----------|
| **Grade** | B | A+ | –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| **Protocol Support** | TLS 1.2 | TLS 1.3 | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ |
| **Cipher Strength** | Strong | A+ | –°–∏–ª–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è |
| **Forward Secrecy** | Yes | Perfect | –°–æ–≤–µ—Ä—à–µ–Ω–Ω–∞—è –ø—Ä—è–º–∞—è —Å–µ–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å |
| **HSTS** | Yes | Preload | HSTS —Å—Ç–∞—Ç—É—Å |
| **OCSP Stapling** | Yes | Yes | OCSP Stapling —Å—Ç–∞—Ç—É—Å |
| **Certificate Transparency** | Yes | Yes | –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ |

#### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–¥–∏–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ SSL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è SSL
sudo nano /usr/local/bin/ssl-labs-monitor.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞:

```bash
#!/bin/bash
# /usr/local/bin/ssl-labs-monitor.sh

DOMAINS=("dnb1st.ru" "dnb1st.store" "api.dnb1st.ru" "ws.dnb1st.ru")
LOG_FILE="/var/log/ssl-labs-monitor.log"
ALERT_EMAIL="admin@dnb1st.ru"
MIN_GRADE="B"

echo "SSL Labs Monitor - $(date)" >> $LOG_FILE
echo "=====================================" >> $LOG_FILE

for domain in "${DOMAINS[@]}"; do
    echo "Testing $domain..." >> $LOG_FILE
    
    # –ó–∞–ø—Ä–æ—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    ANALYSIS_ID=$(curl -s "https://api.ssllabs.com/api/v3/analyze?host=$domain&startNew=on" | jq -r '.status')
    
    # –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
    while [ "$ANALYSIS_ID" != "READY" ]; do
        sleep 30
        ANALYSIS_ID=$(curl -s "https://api.ssllabs.com/api/v3/analyze?host=$domain" | jq -r '.status')
    done
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    RESULTS=$(curl -s "https://api.ssllabs.com/api/v3/analyze?host=$domain&all=done")
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
    GRADE=$(echo "$RESULTS" | jq -r '.endpoints[0].grade')
    PROTOCOLS=$(echo "$RESULTS" | jq -r '.endpoints[0].protocols[]')
    CIPHERS=$(echo "$RESULTS" | jq -r '.endpoints[0].suites[]')
    HSTS=$(echo "$RESULTS" | jq -r '.endpoints[0].hsts')
    OCSP=$(echo "$RESULTS" | jq -r '.endpoints[0].ocspStapling')
    
    echo "Domain: $domain" >> $LOG_FILE
    echo "Grade: $GRADE" >> $LOG_FILE
    echo "Protocols: $PROTOCOLS" >> $LOG_FILE
    echo "HSTS: $HSTS" >> $LOG_FILE
    echo "OCSP Stapling: $OCSP" >> $LOG_FILE
    echo "----------------------------------------" >> $LOG_FILE
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –æ—Ü–µ–Ω–∫–∏
    if [ "$GRADE" = "-" ] || [ "$GRADE" < "$MIN_GRADE" ]; then
        echo "‚ö†Ô∏è  WARNING: $domain has grade $GRADE (minimum required: $MIN_GRADE)" >> $LOG_FILE
        echo "SSL Alert: $domain has grade $GRADE" | mail -s "SSL Alert for $domain" $ALERT_EMAIL
    else
        echo "‚úÖ OK: $domain has grade $GRADE" >> $LOG_FILE
    fi
done

echo "SSL Labs Monitor completed - $(date)" >> $LOG_FILE
echo "" >> $LOG_FILE
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∏ cron-–∑–∞–¥–∞—á–∏:

```bash
sudo chmod +x /usr/local/bin/ssl-labs-monitor.sh

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
0 2 * * 0 /usr/local/bin/ssl-labs-monitor.sh
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é OpenSSL

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
openssl s_client -connect dnb1st.ru:443 -servername dnb1st.ru < /dev/null

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
openssl s_client -connect dnb1st.ru:443 -showcerts < /dev/null

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
openssl s_client -connect dnb1st.ru:443 -tls1_2 < /dev/null
openssl s_client -connect dnb1st.ru:443 -tls1_3 < /dev/null

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —à–∏—Ñ—Ä–æ–≤
openssl s_client -connect dnb1st.ru:443 -cipher ECDHE-RSA-AES256-GCM-SHA384 < /dev/null
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ SSL

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ SSL —Å –ø–æ–º–æ—â—å—é curl
curl -w "@curl-format.txt" -o /dev/null -s "https://dnb1st.ru"

# –§–æ—Ä–º–∞—Ç –¥–ª—è curl (curl-format.txt)
{
    "time_namelookup": %{time_namelookup},
    "time_connect": %{time_connect},
    "time_appconnect": %{time_appconnect},
    "time_pretransfer": %{time_pretransfer},
    "time_redirect": %{time_redirect},
    "time_starttransfer": %{time_starttransfer},
    "time_total": %{time_total},
    "size_download": %{size_download},
    "speed_download": %{speed_download}
}
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ SSL

```bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ SSL
sudo nano /usr/local/bin/ssl-security-report.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞:

```bash
#!/bin/bash
# /usr/local/bin/ssl-security-report.sh

DOMAINS=("dnb1st.ru" "dnb1st.store" "api.dnb1st.ru" "ws.dnb1st.ru")
REPORT_FILE="/var/log/ssl-security-report-$(date +%Y%m%d).html"
EMAIL="admin@dnb1st.ru"

# –°–æ–∑–¥–∞–Ω–∏–µ HTML –æ—Ç—á–µ—Ç–∞
cat > "$REPORT_FILE" << EOF
<!DOCTYPE html>
<html>
<head>
    <title>SSL Security Report - NORMALDANCE</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .pass { color: green; }
        .fail { color: red; }
        .warning { color: orange; }
    </style>
</head>
<body>
    <h1>SSL Security Report - NORMALDANCE</h1>
    <p>Generated: $(date)</p>
    
    <table>
        <tr>
            <th>Domain</th>
            <th>Grade</th>
            <th>Protocol</th>
            <th>HSTS</th>
            <th>OCSP Stapling</th>
            <th>Forward Secrecy</th>
            <th>Status</th>
        </tr>
EOF

for domain in "${DOMAINS[@]}"; do
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ SSL Labs API
    RESULTS=$(curl -s "https://api.ssllabs.com/api/v3/analyze?host=$domain&all=done")
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
    GRADE=$(echo "$RESULTS" | jq -r '.endpoints[0].grade')
    PROTOCOLS=$(echo "$RESULTS" | jq -r '.endpoints[0].protocols[]' | head -1)
    HSTS=$(echo "$RESULTS" | jq -r '.endpoints[0].hsts')
    OCSP=$(echo "$RESULTS" | jq -r '.endpoints[0].ocspStapling')
    FS=$(echo "$RESULTS" | jq -r '.endpoints[0].forwardSecrecy')
    
    # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
    if [ "$GRADE" = "A+" ] || [ "$GRADE" = "A" ]; then
        STATUS="pass"
    elif [ "$GRADE" = "B" ] || [ "$GRADE" = "C" ]; then
        STATUS="warning"
    else
        STATUS="fail"
    fi
    
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—É
    cat >> "$REPORT_FILE" << EOF
        <tr>
            <td>$domain</td>
            <td class="$STATUS">$GRADE</td>
            <td>$PROTOCOLS</td>
            <td>$HSTS</td>
            <td>$OCSP</td>
            <td>$FS</td>
            <td class="$STATUS">$STATUS</td>
        </tr>
EOF
done

cat >> "$REPORT_FILE" << EOF
    </table>
</body>
</html>
EOF

# –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–∞ –ø–æ email
if command -v mailx &> /dev/null; then
    mailx -s "SSL Security Report - $(date +%Y-%m-%d)" -a "$REPORT_FILE" "$EMAIL" < /dev/null
else
    echo "SSL Security Report generated: $REPORT_FILE"
fi
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron-–∑–∞–¥–∞—á–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤:

```bash
# –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ SSL
0 3 1 * * /usr/local/bin/ssl-security-report.sh
```

---

## 3. –í–≤–µ–¥–µ–Ω–∏–µ

NORMALDANCE - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π –±–ª–æ–∫—á–µ–π–Ω –∏ NFT. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞—Ä—Ç–∏—Å—Ç–∞–º –∏ —Å–ª—É—à–∞—Ç–µ–ª—è–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

### –¶–µ–ª–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

–î–∞–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, DevOps-–∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –æ—Ç–≤–µ—á–∞—é—â–∏—Ö –∑–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE. –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞:

- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –û–ø–∏—Å–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –û–±—ä—è—Å–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ Web3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

- Backend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
- Frontend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
- DevOps-–∏–Ω–∂–µ–Ω–µ—Ä—ã
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞—Ç–æ—Ä—ã
- QA-–∏–Ω–∂–µ–Ω–µ—Ä—ã

---

## 2. –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ NORMALDANCE

NORMALDANCE - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –º—É–∑—ã–∫–∞–ª—å–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç–µ–∫–∞—Ö. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: React/Next.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: React Native/Expo –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è iOS –∏ Android
- **–ë—ç–∫–µ–Ω–¥ API**: Node.js —Å–µ—Ä–≤–µ—Ä —Å Socket.IO –¥–ª—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: Prisma + SQLite –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **–ë–ª–æ–∫—á–µ–π–Ω**: Solana –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è NFT –∏ —Å—Ç–µ–π–∫–∏–Ω–≥–∞
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus + Grafana + Alertmanager
- **CI/CD**: GitLab CI/CD pipeline —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –¥–µ–ø–ª–æ–µ–º

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **NFT Marketplace**: –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ç–æ—Ä–≥–æ–≤–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã–º–∏ NFT
- **–°—Ç–µ–π–∫–∏–Ω–≥**: –ú–µ—Ö–∞–Ω–∏–∑–º –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –¥–ª—è –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π —Ç–æ–∫–µ–Ω–æ–≤
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ç—Ä–µ–∫–æ–≤
- **–ú–Ω–æ–≥–æ–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å**: –í–µ–± –∏ –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º Solana

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ NORMALDANCE –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —Å–ª–µ–¥—É—é—â–∏–º–∏ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Mobile App    ‚îÇ    ‚îÇ   Admin Panel   ‚îÇ
‚îÇ   (Next.js)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (React Native)‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Next.js)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   API Gateway   ‚îÇ
                    ‚îÇ   (Node.js)     ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                       ‚îÇ                       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Database      ‚îÇ    ‚îÇ   Blockchain    ‚îÇ    ‚îÇ   Monitoring    ‚îÇ
‚îÇ   (PostgreSQL)  ‚îÇ    ‚îÇ   (Solana)      ‚îÇ    ‚îÇ   (Prometheus)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Frontend:**
- Next.js 14 —Å TypeScript
- React 18
- Socket.IO –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

**Backend:**
- Node.js —Å Express
- Prisma ORM
- SQLite (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞) / PostgreSQL (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)
- Socket.IO –¥–ª—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

**–ë–ª–æ–∫—á–µ–π–Ω:**
- Solana blockchain
- Anchor programs –¥–ª—è NFT –∏ —Å—Ç–µ–π–∫–∏–Ω–≥–∞
- Phantom wallet integration

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- Prometheus –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- Alertmanager –¥–ª—è –æ–ø–æ–≤–µ—â–µ–Ω–∏–π

**DevOps:**
- Docker –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
- Kubernetes –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
- GitLab CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

```

### 2.6 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∞—É–¥–∏–æ-–ø–æ—Ç–æ–∫–æ–≤ –∏ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

#### –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤—ã–±–æ—Ä–∞ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—á–∏—Ç—ã–≤–∞—Ç—å:

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –∞—É–¥–∏–æ
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã**: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ–∫—É—â–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã–µ suites

–î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMALDANCE —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –Ω–∞–±–æ—Ä —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites:

```bash
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites –¥–ª—è Nginx
ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256';
ssl_prefer_server_ciphers off;
```

#### –î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites
sudo nano /etc/nginx/ssl-ciphers.conf
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```nginx
# /etc/nginx/ssl-ciphers.conf
# SSL Cipher Suites Configuration for NORMALDANCE

# –ì—Ä—É–ø–ø–∞: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —à–∏—Ñ—Ä—ã (Perfect Forward Secrecy)
ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';

# –ì—Ä—É–ø–ø–∞: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —à–∏—Ñ—Ä—ã
ssl_ciphers 'ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256';

# –ì—Ä—É–ø–ø–∞: –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ, –Ω–æ –≤—Å–µ –µ—â–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —à–∏—Ñ—Ä—ã (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
ssl_ciphers 'AES256-GCM-SHA384:AES128-GCM-SHA256:AES256-SHA256:AES128-SHA256';

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–ª–∞–±—ã—Ö —à–∏—Ñ—Ä–æ–≤
ssl_ciphers '!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!SRP:!CAMELLIA';

# –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —à–∏—Ñ—Ä–æ–≤
ssl_prefer_server_ciphers off;

# –í–∫–ª—é—á–µ–Ω–∏–µ Perfect Forward Secrecy
ssl_session_tickets off;
ssl_session_cache shared:SSL:10m;
ssl_session_timeout 1d;

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∞—É–¥–∏–æ-–ø–æ—Ç–æ–∫–æ–≤
ssl_buffer_size 4k;
ssl_session_cache shared:SSL:10m;
ssl_session_timeout 1d;
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∞—É–¥–∏–æ-—Å—Ç—Ä–∏–º–∏–Ω–≥–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –∞—É–¥–∏–æ-—Å—Ç—Ä–∏–º–∏–Ω–≥–∞
sudo nano /etc/nginx/audio-streaming.conf
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```nginx
# /etc/nginx/audio-streaming.conf
# Audio Streaming SSL Configuration for NORMALDANCE

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∞—É–¥–∏–æ-–ø–æ—Ç–æ–∫–æ–≤
server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name stream.dnb1st.ru;
    
    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    ssl_certificate /etc/letsencrypt/live/stream.dnb1st.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/stream.dnb1st.ru/privkey.pem;
    
    # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—ã –¥–ª—è –∞—É–¥–∏–æ-—Å—Ç—Ä–∏–º–∏–Ω–≥–∞
    ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';
    ssl_prefer_server_ciphers off;
    
    # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏
    client_max_body_size 0;
    client_body_timeout 300s;
    client_header_timeout 300s;
    keepalive_timeout 75s;
    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;
    
    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞—É–¥–∏–æ-—Ñ–∞–π–ª–æ–≤
    location ~* \.(mp3|wav|flac|aac|ogg|m4a)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header Access-Control-Allow-Origin "*";
        add_header Access-Control-Allow-Methods "GET, HEAD, OPTIONS";
        add_header Access-Control-Allow-Headers "Range";
        
        # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏
        tcp_nodelay on;
        tcp_nopush on;
        sendfile on;
        
        # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Range –∑–∞–ø—Ä–æ—Å–æ–≤
        gzip off;
        chunked_transfer_encoding on;
        
        # –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –∞—É–¥–∏–æ-–ø–æ—Ç–æ–∫–æ–≤
        proxy_read_timeout 86400s;
        proxy_send_timeout 86400s;
        proxy_connect_timeout 60s;
        
        # –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –∞—É–¥–∏–æ
        proxy_buffering on;
        proxy_buffer_size 128k;
        proxy_buffers 4 256k;
        proxy_busy_buffers_size 256k;
    }
    
    # WebSocket –¥–ª—è –∞—É–¥–∏–æ-—á–∞—Ç–∞
    location /audio-chat/ {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è WebSocket
        proxy_read_timeout 86400s;
        proxy_send_timeout 86400s;
        proxy_connect_timeout 60s;
    }
}
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —à–∏—Ñ—Ä–æ–≤
openssl s_client -connect dnb1st.ru:443 -cipher ECDHE-ECDSA-AES256-GCM-SHA384 < /dev/null

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —à–∏—Ñ—Ä–æ–≤
openssl s_client -connect dnb1st.ru:443 -tls1_2 < /dev/null | grep Cipher

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
openssl speed -evp aes-256-gcm
openssl speed -evp chacha20-poly1305
openssl speed -evp aes-128-gcm
```

#### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã—Ö suites

| –®–∏—Ñ—Ä | –ö–ª—é—á | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|------|------|-----------|-------------|-------------------|--------------|
| ECDHE-ECDSA-AES256-GCM-SHA384 | 256 –±–∏—Ç | –í—ã—Å–æ–∫–∞—è | –û—Ç–ª–∏—á–Ω–∞—è | –•–æ—Ä–æ—à–∞—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
| ECDHE-ECDSA-CHACHA20-POLY1305 | 256 –±–∏—Ç | –°—Ä–µ–¥–Ω—è—è | –û—Ç–ª–∏—á–Ω–∞—è | –û—Ç–ª–∏—á–Ω–∞—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
| ECDHE-RSA-AES256-GCM-SHA384 | 256 –±–∏—Ç | –í—ã—Å–æ–∫–∞—è | –û—Ç–ª–∏—á–Ω–∞—è | –•–æ—Ä–æ—à–∞—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
| ECDHE-RSA-CHACHA20-POLY1305 | 256 –±–∏—Ç | –°—Ä–µ–¥–Ω—è—è | –û—Ç–ª–∏—á–Ω–∞—è | –û—Ç–ª–∏—á–Ω–∞—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
| AES256-GCM-SHA384 | 256 –±–∏—Ç | –í—ã—Å–æ–∫–∞—è | –•–æ—Ä–æ—à–∞—è | –•–æ—Ä–æ—à–∞—è | –î–æ–ø—É—Å—Ç–∏–º–æ |
| AES128-GCM-SHA256 | 128 –±–∏—Ç | –°—Ä–µ–¥–Ω—è—è | –•–æ—Ä–æ—à–∞—è | –û—Ç–ª–∏—á–Ω–∞—è | –î–æ–ø—É—Å—Ç–∏–º–æ |
| ECDHE-ECDSA-AES128-GCM-SHA256 | 128 –±–∏—Ç | –°—Ä–µ–¥–Ω—è—è | –•–æ—Ä–æ—à–∞—è | –û—Ç–ª–∏—á–Ω–∞—è | –î–æ–ø—É—Å—Ç–∏–º–æ |

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

```bash
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
sudo nano /etc/nginx/mobile-ssl.conf
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```nginx
# /etc/nginx/mobile-ssl.conf
# Mobile SSL Configuration for NORMALDANCE

server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name mobile.dnb1st.ru;
    
    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    ssl_certificate /etc/letsencrypt/live/mobile.dnb1st.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/mobile.dnb1st.ru/privkey.pem;
    
    # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256';
    ssl_prefer_server_ciphers off;
    
    # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    client_max_body_size 50M;
    client_body_timeout 300s;
    client_header_timeout 300s;
    keepalive_timeout 75s;
    
    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Device-Type "mobile";
        
        # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
        proxy_buffering on;
        proxy_buffer_size 128k;
        proxy_buffers 4 256k;
        proxy_busy_buffers_size 256k;
        
        # –°–∂–∞—Ç–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        gzip on;
        gzip_vary on;
        gzip_min_length 1024;
        gzip_proxied any;
        gzip_comp_level 6;
        gzip_types
            text/plain
            text/css
            text/xml
            text/javascript
            application/json
            application/javascript
            application/xml+rss
            application/atom+xml
            image/svg+xml;
    }
}
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ SSL

```bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ SSL
sudo nano /usr/local/bin/ssl-performance-monitor.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞:

```bash
#!/bin/bash
# /usr/local/bin/ssl-performance-monitor.sh

DOMAINS=("dnb1st.ru" "dnb1st.store" "api.dnb1st.ru" "ws.dnb1st.ru" "stream.dnb1st.ru")
LOG_FILE="/var/log/ssl-performance-monitor.log"
ALERT_THRESHOLD=2000 # ms

echo "SSL Performance Monitor - $(date)" >> $LOG_FILE
echo "=====================================" >> $LOG_FILE

for domain in "${DOMAINS[@]}"; do
    echo "Testing $domain..." >> $LOG_FILE
    
    # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ SSL
    PERFORMANCE=$(curl -w "@curl-format.txt" -o /dev/null -s "https://$domain" | grep "time_appconnect")
    TIME_APPCONNECT=$(echo "$PERFORMANCE" | cut -d: -f2 | tr -d ' ')
    
    echo "SSL Handshake Time: $TIME_APPCONNECT ms" >> $LOG_FILE
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    if (( $(echo "$TIME_APPCONNECT > $ALERT_THRESHOLD" | bc -l) )); then
        echo "‚ö†Ô∏è  WARNING: SSL handshake time for $domain is $TIME_APPCONNECT ms (threshold: $ALERT_THRESHOLD ms)" >> $LOG_FILE
        echo "SSL Performance Alert: $domain has slow SSL handshake" | mail -s "SSL Performance Alert" admin@dnb1st.ru
    else
        echo "‚úÖ OK: SSL handshake time for $domain is $TIME_APPCONNECT ms" >> $LOG_FILE
    fi
    
    echo "----------------------------------------" >> $LOG_FILE
done

echo "SSL Performance Monitor completed - $(date)" >> $LOG_FILE
echo "" >> $LOG_FILE
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron-–∑–∞–¥–∞—á–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ SSL
0 4 * * * /usr/local/bin/ssl-performance-monitor.sh
```

---

## 4. –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- CPU: 4 —è–¥—Ä–∞
- RAM: 8 GB
- HDD: 50 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- –û–°: Windows 10/11, macOS 10.15+, Ubuntu 20.04+

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- CPU: 8+ —è–¥–µ—Ä
- RAM: 16+ GB
- SSD: 100+ GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- –û–°: Windows 11, macOS 12+, Ubuntu 22.04+

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- CPU: 8 —è–¥–µ—Ä
- RAM: 16 GB
- HDD: 200 GB SSD
- –û–°: Ubuntu 20.04 LTS / CentOS 8

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- CPU: 16+ —è–¥–µ—Ä
- RAM: 32+ GB
- SSD: 500+ GB
- –û–°: Ubuntu 22.04 LTS
- Kubernetes –∫–ª–∞—Å—Ç–µ—Ä

---

## 5. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**Node.js –∏ npm:**
```bash
node --version    # v18.x –∏–ª–∏ –≤—ã—à–µ
npm --version     # v8.x –∏–ª–∏ –≤—ã—à–µ
```

**Docker –∏ Docker Compose:**
```bash
docker --version     # v20.10 –∏–ª–∏ –≤—ã—à–µ
docker-compose --version  # v2.0 –∏–ª–∏ –≤—ã—à–µ
```

**Git:**
```bash
git --version  # v2.30 –∏–ª–∏ –≤—ã—à–µ
```

**–ë–ª–æ–∫—á–µ–π–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Solana CLI
- Anchor CLI
- Phantom wallet

**–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
- PostgreSQL 14+ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- Redis (–¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)

### –°–µ—Ç–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ü–æ—Ä—Ç 80**: HTTP —Ç—Ä–∞—Ñ–∏–∫
- **–ü–æ—Ä—Ç 443**: HTTPS —Ç—Ä–∞—Ñ–∏–∫
- **–ü–æ—Ä—Ç 3000**: Development —Å–µ—Ä–≤–µ—Ä
- **–ü–æ—Ä—Ç 5432**: PostgreSQL
- **–ü–æ—Ä—Ç 6379**: Redis
- **–ü–æ—Ä—Ç 9090**: Prometheus
- **–ü–æ—Ä—Ç 3001**: Grafana

### SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ç—Ä–µ–±—É—é—Ç—Å—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
- Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- Wildcard —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤

---

## 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://gitlab.com/normaldance/normaldance.git
cd normaldance
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
cd mobile-app
npm install
cd ..

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –±–ª–æ–∫—á–µ–π–Ω –ø—Ä–æ–≥—Ä–∞–º–º
cd programs/ndt
npm install
cd ../../programs/staking
npm install
cd ../../programs/tracknft
npm install
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```env
# Database
DATABASE_URL="file:./dev.db"

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key"

# WebSocket
SOCKET_PORT=3001

# Blockchain
SOLANA_NETWORK="devnet"
PROGRAM_ID="your-program-id"

# Redis
REDIS_URL="redis://localhost:6379"

# Filecoin
FILENET_API_URL="https://api.filecoin.io"
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π Prisma
npx prisma migrate dev

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
npx prisma generate
```

### –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npm run dev

# –ó–∞–ø—É—Å–∫ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd mobile-app
npm start

# –ó–∞–ø—É—Å–∫ WebSocket —Å–µ—Ä–≤–µ—Ä–∞
npm run websocket
```

---

## 7. Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Docker-–æ–±—Ä–∞–∑–æ–≤

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ Docker-–æ–±—Ä–∞–∑–æ–≤:

- `Dockerfile`: –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–∑ –¥–ª—è Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `Dockerfile.api`: API —Å–µ—Ä–≤–µ—Ä
- `Dockerfile.websocket`: WebSocket —Å–µ—Ä–≤–µ—Ä
- `Dockerfile.prod`: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- `Dockerfile.store`: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

### Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Å–Ω–æ–≤–Ω—ã–µ compose-—Ñ–∞–π–ª—ã:

- `docker-compose.yml`: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- `docker-compose.prod.yml`: –ü—Ä–æ–¥–∞–∫—à–µ–Ω
- `docker-compose.monitoring.yml`: –°–µ—Ä–≤–∏—Å—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- `docker-compose.business.yml`: –ë–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å—ã

### –ó–∞–ø –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
docker-compose up -d

# –ü—Ä–æ–¥–∞–∫—à–µ–Ω
docker-compose -f docker-compose.prod.yml up -d

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
docker-compose -f docker-compose.monitoring.yml up -d
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã—Ö —Å–±–æ—Ä–æ–∫
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–µ–≤ Docker
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

---

## 8. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Prisma ORM —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- SQLite –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—Ö–µ–º—ã
- –°–µ–∞–Ω—Å—ã –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:
- `User`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- `Track`: –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–∫–∏
- `NFT`: NFT —Ç–æ–∫–µ–Ω—ã
- `Stake`: –°—Ç–µ–π–∫–∏–Ω–≥ –∑–∞–ø–∏—Å–∏
- `Playlist`: –ü–ª–µ–π–ª–∏—Å—Ç—ã
- `Artist`: –ê—Ä—Ç–∏—Å—Ç—ã

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ seeding

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate create --name init

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npx prisma migrate deploy

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npx prisma db seed
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é Redis
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –¥–ª—è —á—Ç–µ–Ω–∏—è

---

## 9. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**Prometheus:**
- –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
- –ê–ª–µ—Ä—Ç–∏–Ω–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª

**Grafana:**
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- –ü–∞–Ω–µ–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –û—Ç—á–µ—Ç—ã –∏ –¥–∞—à–±–æ—Ä–¥—ã

**Alertmanager:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è–º–∏
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –ó–∞–ø—É—Å–∫ Prometheus
docker-compose -f docker-compose.monitoring.yml up prometheus

# –ó–∞–ø—É—Å–∫ Grafana
docker-compose -f docker-compose.monitoring.yml up grafana

# –ó–∞–ø—É—Å–∫ Alertmanager
docker-compose -f docker-compose.monitoring.yml up alertmanager
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ª–æ–≥–æ–≤ —Å –ø–æ–º–æ—â—å—é Fluentd
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ Elasticsearch
- –ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ —Å Kibana

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –±–∏–∑–Ω–µ—Å-–ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

---

## 10. –î–µ–ø–ª–æ–π –∏ CI/CD

### CI/CD Pipeline

GitLab CI/CD pipeline –≤–∫–ª—é—á–∞–µ—Ç:

- –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Docker-–æ–±—Ä–∞–∑—ã
- –î–µ–ø–ª–æ–π –≤ staging
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –°—Ç–∞–¥–∏–∏ pipeline

1. **–°–±–æ—Ä–∫–∞**: –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript, —Å–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–æ–≤
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Unit, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ, E2E —Ç–µ—Å—Ç—ã
3. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —É—è–∑–≤–∏–º–æ—Å—Ç–∏
4. **–î–µ–ø–ª–æ–π**: Staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
6. **–ü—Ä–æ–¥–∞–∫—à–µ–Ω**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

### –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```bash
# –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
./deploy/scripts/deploy.sh

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitLab CI
git push origin main

# –û—Ç–∫–∞—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
./deploy/scripts/rollback.sh
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx

- –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –¥–ª—è Next.js
- SSL termination
- Load balancing
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

---

## 11. WebSocket –∏ —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ WebSocket

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Socket.IO –¥–ª—è:
- –†–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –û–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ß–∞—Ç–∞ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –°–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã WebSocket

- **Socket.IO —Å–µ—Ä–≤–µ—Ä**: Node.js —Å–µ—Ä–≤–µ—Ä
- **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**: React/React Native
- **–úiddleware**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π**: –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WebSocket

```bash
# –ó–∞–ø—É—Å–∫ WebSocket —Å–µ—Ä–≤–µ—Ä–∞
npm run websocket

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
curl -X GET http://localhost:3001/socket.io/
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å WebSocket

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket
- Fallback –Ω–∞ HTTP long-polling
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

---

## 12. –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **React Native**: –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **Expo**: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–±–æ—Ä–∫–∞
- **Socket.IO**: –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- **Redux Toolkit**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **React Navigation**: –ù–∞–≤–∏–≥–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
mobile-app/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/     # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
‚îÇ   ‚îú‚îÄ‚îÄ screens/        # –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ navigation/     # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ services/       # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ hooks/          # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ lib/           # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ assets/            # –†–µ—Å—É—Ä—Å—ã
‚îî‚îÄ‚îÄ package.json       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Expo CLI
npm install -g @expo/cli

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
cd mobile-app
npm start
```

### –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
# Android
eas build --platform android

# iOS
eas build --platform ios
```

---

## 13. Web3 –∏ –±–ª–æ–∫—á–µ–π–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### Solana –ø—Ä–æ–≥—Ä–∞–º–º—ã

–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
- **TrackNFT**: –°–æ–∑–¥–∞–Ω–∏–µ NFT –¥–ª—è —Ç—Ä–µ–∫–æ–≤
- **Staking**: –°–∏—Å—Ç–µ–º–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞
- **NDT**: –¢–æ–∫–µ–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–ª–æ–∫—á–µ–π–Ω–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Solana CLI
sh -c "$(curl -sSf https://release.solana.com/stable/install)"

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—à–µ–ª—å–∫–∞
solana-keygen new --outfile ~/.config/solana/id.json

# –î–µ–ø–ª–æ–π –ø—Ä–æ–≥—Ä–∞–º–º
anchor deploy
```

### –ö–æ—à–µ–ª–µ–∫ Phantom

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Phantom wallet
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ Web3
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ NFT
- –°—Ç–µ–π–∫–∏–Ω–≥ —Ç–æ–∫–µ–Ω–æ–≤

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–ª–æ–∫—á–µ–π–Ω–∞

- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–æ–≤

---

## 14. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: NextAuth.js
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: TLS 1.3
- **–ó–∞—â–∏—Ç–∞ –æ—Ç DDoS**: Cloudflare
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞**: Zod —Å—Ö–µ–º—ã

### –ü—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (DevSecOps)

### –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–æ–∫–æ–µ
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- –ó–∞—â–∏—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ GDPR

---

## 15. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Frontend –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- Code splitting –∏ lazy loading
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
- Service Worker

### Backend –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Redis
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
- –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è
- –®–∞—Ä–¥–∏–Ω–≥

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A. –°–ø–∏—Å–æ–∫ Docker-–æ–±—Ä–∞–∑–æ–≤

| –û–±—Ä–∞–∑ | –û–ø–∏—Å–∞–Ω–∏–µ | –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ | –†–∞–∑–º–µ—Ä |
|-------|----------|---------------|--------|
| `normaldance/web` | –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Next.js | node:18-alpine | ~500MB |
| `normaldance/api` | API —Å–µ—Ä–≤–µ—Ä | node:18-alpine | ~400MB |
| `normaldance/websocket` | WebSocket —Å–µ—Ä–≤–µ—Ä | node:18-alpine | ~350MB |
| `normaldance/monitoring` | Prometheus | prom/prometheus | ~200MB |
| `normaldance/grafana` | Grafana | grafana/grafana | ~300MB |

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ B. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `docker-compose.yml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `docker-compose.prod.yml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- `config/monitoring-config.json` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- `config/secrets-config.json` - –°–µ–∫—Ä–µ—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `deploy/nginx/dnb1st.ru.conf` - Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `.env.example` - –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `.env.local` - –õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- `.env.production` - –ü—Ä–æ–¥–∞–∫—à–µ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏–µ

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ C. –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

- `deploy/scripts/deploy.sh` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `deploy/scripts/server-setup.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `deploy/scripts/ssl-setup.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
- `deploy/docker/docker-compose.yml` - Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- GitLab CI/CD pipeline
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ D. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

- **Unit —Ç–µ—Å—Ç—ã**: Jest + React Testing Library
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**: Supertest
- **E2E —Ç–µ—Å—Ç—ã**: Cypress
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: K6
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: OWASP ZAP

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

- `jest.config.js` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Jest
- `tests/unit/` - Unit —Ç–µ—Å—Ç—ã
- `tests/integration/` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `tests/e2e/` - E2E —Ç–µ—Å—Ç—ã

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# Unit —Ç–µ—Å—Ç—ã
npm test

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm run test:integration

# E2E —Ç–µ—Å—Ç—ã
npm run test:e2e

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
npm run test:performance